{"ast":null,"code":"var _jsxFileName = \"/home/mauro/Escritorio/React/react-tasks/client/src/components/auth/Login.js\";\nimport React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alerts/alertContext';\n\nconst Login = props => {\n  const alertContext = useContext(AlertContext);\n  const {\n    alert,\n    showAlert\n  } = alertContext;\n  const authContext = useContext(AuthContext);\n  const {\n    msg,\n    auth,\n    logIn\n  } = authContext;\n  useEffect(() => {\n    if (auth) {\n      props.history.push('/projects');\n    }\n\n    if (msg) {\n      showAlert(msg.msg, msg.category);\n    }\n  }, [msg, auth, props.history]); // State para iniciar sesion\n\n  const [user, setUser] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    email,\n    password\n  } = user;\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // validar campos\n\n    if (email.trim() === '' || password.trim() === '') {\n      showAlert('Todos los campos son obligatorios', 'alerta-error');\n    } // pasar al action\n\n\n    logIn({\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, alert ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alert.category}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 24\n    }\n  }, alert.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sombra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Iniciar Sesi\\xF3n\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"E-mail\",\n    value: email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Contrase\\xF1a\",\n    value: password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Iniciar Sesi\\xF3n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: '/new-account',\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Obtener Cuenta\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/mauro/Escritorio/React/react-tasks/client/src/components/auth/Login.js"],"names":["React","useState","useContext","Link","AuthContext","AlertContext","Login","props","alertContext","alert","showAlert","authContext","msg","auth","logIn","useEffect","history","push","category","user","setUser","email","password","handleChange","e","target","name","value","handleSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react';\nimport {Link} from 'react-router-dom';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alerts/alertContext';\n\nconst Login = (props) => {\n\n    const alertContext = useContext(AlertContext);\n    const { alert, showAlert } = alertContext;\n\n    const authContext = useContext(AuthContext);\n    const { msg, auth, logIn } = authContext;\n\n    useEffect( () => {\n        if(auth){\n            props.history.push('/projects');\n        }\n        if(msg){\n            showAlert(msg.msg, msg.category);\n        }\n    },[msg, auth, props.history])\n\n\n    // State para iniciar sesion\n    const [user, setUser] = useState({\n        email: '',\n        password: ''\n    });\n\n    const { email, password } = user;\n\n    const handleChange = (e) => {\n        setUser({\n            ...user,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        // validar campos\n        if(email.trim() === '' || password.trim() === ''){\n            showAlert('Todos los campos son obligatorios', 'alerta-error');\n        }\n        // pasar al action\n        logIn({ \n            email,\n            password\n        });\n    }\n\n    return ( \n        <div className=\"form-usuario\">\n            { alert ? (<div className={`alerta ${alert.category}`}>{alert.msg}</div>) :null}\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Iniciar Sesi√≥n</h1>\n                <form\n                    onSubmit={handleSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"email\"\n                        >Email\n                        </label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"E-mail\"\n                            value={email}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"password\"\n                        >Contrase√±a\n                        </label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Contrase√±a\"\n                            value={password}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <input\n                            type=\"submit\"\n                            className=\"btn btn-primario btn-block\"\n                            value=\"Iniciar Sesi√≥n\"\n                        />\n                    </div>\n                </form>\n                <Link \n                    to={'/new-account'}\n                    className=\"enlace-cuenta\"\n                >Obtener Cuenta\n                </Link>\n            </div>\n        </div>\n        );\n}\n \nexport default Login;"]},"metadata":{},"sourceType":"module"}