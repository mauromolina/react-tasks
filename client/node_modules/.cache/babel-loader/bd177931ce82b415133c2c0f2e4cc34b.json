{"ast":null,"code":"var _jsxFileName = \"/home/mauro/Escritorio/React/react-tasks/client/src/components/auth/NewAccount.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertContext from '../../context/alerts/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst NewAccount = props => {\n  const alertContext = useContext(AlertContext);\n  const {\n    alert,\n    showAlert\n  } = alertContext;\n  const authContext = useContext(AuthContext);\n  const {\n    msg,\n    auth,\n    signInUser\n  } = authContext;\n  useEffect(() => {\n    if (auth) {\n      props.history.push('/projects');\n    }\n\n    if (msg) {\n      showAlert(msg.msg, msg.category); // eslint-disable-next-line\n    }\n  }, [msg, auth, props.history, showAlert]); // State para iniciar sesion\n\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirm: ''\n  });\n  const {\n    email,\n    password,\n    name,\n    confirm\n  } = user;\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // validar campos\n\n    if (name.trim() === '' || email.trim() === '' || password.trim() === '' || confirm.trim() === '') {\n      showAlert('Todos los campos son obligatorios', 'alerta-error');\n      return;\n    }\n\n    if (password.length < 6) {\n      showAlert('La contraseña debe contener como mínimo 6 caracteres', 'alerta-error');\n      return;\n    }\n\n    if (password !== confirm) {\n      showAlert('Las contraseñas no coinciden', 'alerta-error');\n      return;\n    } // pasar al action\n\n\n    signInUser({\n      name,\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-usuario\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, alert ? /*#__PURE__*/React.createElement(\"div\", {\n    className: `alerta ${alert.category}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 24\n    }\n  }, alert.msg) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contenedor-form sombra-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Nueva Cuenta\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, \"Nombre\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"Nombre\",\n    value: name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"E-mail\",\n    value: email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"Contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"Contrase\\xF1a\",\n    value: password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Confirmar contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"confirm\",\n    name: \"confirm\",\n    placeholder: \"Confirmar contrase\\xF1a\",\n    value: confirm,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"campo-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primario btn-block\",\n    value: \"Registrarse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: '/new-account',\n    className: \"enlace-cuenta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"Ya ten\\xE9s una cuenta? Inicia sesi\\xF3n\")));\n};\n\nexport default NewAccount;","map":{"version":3,"sources":["/home/mauro/Escritorio/React/react-tasks/client/src/components/auth/NewAccount.js"],"names":["React","useState","useContext","useEffect","Link","AlertContext","AuthContext","NewAccount","props","alertContext","alert","showAlert","authContext","msg","auth","signInUser","history","push","category","user","setUser","name","email","password","confirm","handleChange","e","target","value","handleSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport AlertContext from '../../context/alerts/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst NewAccount = (props) => {\n\n    const alertContext = useContext(AlertContext);\n    const { alert, showAlert } = alertContext;\n\n    const authContext = useContext(AuthContext);\n    const { msg, auth, signInUser } = authContext;\n\n    useEffect( () => {\n        if(auth){\n            props.history.push('/projects');\n        }\n        if(msg){\n            showAlert(msg.msg, msg.category);\n            // eslint-disable-next-line\n        }\n    },[msg, auth, props.history, showAlert])\n\n    // State para iniciar sesion\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        confirm: ''\n    });\n\n    const { email, password, name, confirm } = user;\n\n    const handleChange = (e) => {\n        setUser({\n            ...user,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        // validar campos\n        if( name.trim() === '' || \n            email.trim() === '' || \n            password.trim() === '' || \n            confirm.trim() === ''\n        ) {\n            showAlert('Todos los campos son obligatorios', 'alerta-error');\n            return;\n        }\n\n        if(password.length < 6) {\n            showAlert('La contraseña debe contener como mínimo 6 caracteres', 'alerta-error');\n            return;\n        }\n\n        if(password !== confirm) {\n            showAlert('Las contraseñas no coinciden', 'alerta-error');\n            return;\n        }\n        // pasar al action\n        signInUser({\n            name,\n            email,\n            password\n        });\n    }\n    return ( \n        <div className=\"form-usuario\">\n            { alert ? (<div className={`alerta ${alert.category}`}>{alert.msg}</div>) :null}\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Nueva Cuenta</h1>\n                <form\n                    onSubmit={handleSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"name\"\n                        >Nombre\n                        </label>\n                        <input\n                            type=\"text\"\n                            id=\"name\"\n                            name=\"name\"\n                            placeholder=\"Nombre\"\n                            value={name}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"email\"\n                        >Email\n                        </label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"E-mail\"\n                            value={email}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"password\"\n                        >Contraseña\n                        </label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Contraseña\"\n                            value={password}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"confirm\"\n                        >Confirmar contraseña\n                        </label>\n                        <input\n                            type=\"password\"\n                            id=\"confirm\"\n                            name=\"confirm\"\n                            placeholder=\"Confirmar contraseña\"\n                            value={confirm}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <input\n                            type=\"submit\"\n                            className=\"btn btn-primario btn-block\"\n                            value=\"Registrarse\"\n                        />\n                    </div>\n                </form>\n                <Link \n                    to={'/new-account'}\n                    className=\"enlace-cuenta\"\n                >Ya tenés una cuenta? Inicia sesión\n                </Link>\n            </div>\n        </div>\n        );\n}\n \nexport default NewAccount;"]},"metadata":{},"sourceType":"module"}