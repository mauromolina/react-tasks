{"ast":null,"code":"import _defineProperty from\"/home/mauro/Escritorio/React/react-tasks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/mauro/Escritorio/React/react-tasks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/mauro/Escritorio/React/react-tasks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertContext from'../../context/alerts/alertContext';import AuthContext from'../../context/auth/authContext';var NewAccount=function NewAccount(props){var alertContext=useContext(AlertContext);var alert=alertContext.alert,showAlert=alertContext.showAlert;var authContext=useContext(AuthContext);var msg=authContext.msg,auth=authContext.auth,signInUser=authContext.signInUser;useEffect(function(){if(auth){props.history.push('/projects');}if(msg){showAlert(msg.msg,msg.category);}},[msg,auth,props.history]);// State para iniciar sesion\nvar _useState=useState({name:'',email:'',password:'',confirm:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password,name=user.name,confirm=user.confirm;var handleChange=function handleChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();// validar campos\nif(name.trim()===''||email.trim()===''||password.trim()===''||confirm.trim()===''){showAlert('Todos los campos son obligatorios','alerta-error');return;}if(password.length<6){showAlert('La contraseña debe contener como mínimo 6 caracteres','alerta-error');return;}if(password!==confirm){showAlert('Las contraseñas no coinciden','alerta-error');return;}// pasar al action\nsignInUser({name:name,email:email,password:password});};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-usuario\"},alert?/*#__PURE__*/React.createElement(\"div\",{className:\"alerta \".concat(alert.category)},alert.msg):null,/*#__PURE__*/React.createElement(\"div\",{className:\"contenedor-form sombra-dark\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Nueva Cuenta\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Nombre\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Nombre\",value:name,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"E-mail\",value:email,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Contrase\\xF1a\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a\",value:password,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"confirm\"},\"Confirmar contrase\\xF1a\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"confirm\",name:\"confirm\",placeholder:\"Confirmar contrase\\xF1a\",value:confirm,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"campo-form\"},/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrarse\"}))),/*#__PURE__*/React.createElement(Link,{to:'/new-account',className:\"enlace-cuenta\"},\"Ya ten\\xE9s una cuenta? Inicia sesi\\xF3n\")));};export default NewAccount;","map":{"version":3,"sources":["/home/mauro/Escritorio/React/react-tasks/client/src/components/auth/NewAccount.js"],"names":["React","useState","useContext","useEffect","Link","AlertContext","AuthContext","NewAccount","props","alertContext","alert","showAlert","authContext","msg","auth","signInUser","history","push","category","name","email","password","confirm","user","setUser","handleChange","e","target","value","handleSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport AlertContext from '../../context/alerts/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst NewAccount = (props) => {\n\n    const alertContext = useContext(AlertContext);\n    const { alert, showAlert } = alertContext;\n\n    const authContext = useContext(AuthContext);\n    const { msg, auth, signInUser } = authContext;\n\n    useEffect( () => {\n        if(auth){\n            props.history.push('/projects');\n        }\n        if(msg){\n            showAlert(msg.msg, msg.category);\n        }\n    },[msg, auth, props.history])\n\n    // State para iniciar sesion\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        confirm: ''\n    });\n\n    const { email, password, name, confirm } = user;\n\n    const handleChange = (e) => {\n        setUser({\n            ...user,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        // validar campos\n        if( name.trim() === '' || \n            email.trim() === '' || \n            password.trim() === '' || \n            confirm.trim() === ''\n        ) {\n            showAlert('Todos los campos son obligatorios', 'alerta-error');\n            return;\n        }\n\n        if(password.length < 6) {\n            showAlert('La contraseña debe contener como mínimo 6 caracteres', 'alerta-error');\n            return;\n        }\n\n        if(password !== confirm) {\n            showAlert('Las contraseñas no coinciden', 'alerta-error');\n            return;\n        }\n        // pasar al action\n        signInUser({\n            name,\n            email,\n            password\n        });\n    }\n    return ( \n        <div className=\"form-usuario\">\n            { alert ? (<div className={`alerta ${alert.category}`}>{alert.msg}</div>) :null}\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Nueva Cuenta</h1>\n                <form\n                    onSubmit={handleSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"name\"\n                        >Nombre\n                        </label>\n                        <input\n                            type=\"text\"\n                            id=\"name\"\n                            name=\"name\"\n                            placeholder=\"Nombre\"\n                            value={name}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"email\"\n                        >Email\n                        </label>\n                        <input\n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"E-mail\"\n                            value={email}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"password\"\n                        >Contraseña\n                        </label>\n                        <input\n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Contraseña\"\n                            value={password}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <label\n                            htmlFor=\"confirm\"\n                        >Confirmar contraseña\n                        </label>\n                        <input\n                            type=\"password\"\n                            id=\"confirm\"\n                            name=\"confirm\"\n                            placeholder=\"Confirmar contraseña\"\n                            value={confirm}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"campo-form\">\n                        <input\n                            type=\"submit\"\n                            className=\"btn btn-primario btn-block\"\n                            value=\"Registrarse\"\n                        />\n                    </div>\n                </form>\n                <Link \n                    to={'/new-account'}\n                    className=\"enlace-cuenta\"\n                >Ya tenés una cuenta? Inicia sesión\n                </Link>\n            </div>\n        </div>\n        );\n}\n \nexport default NewAccount;"]},"metadata":{},"sourceType":"module"}